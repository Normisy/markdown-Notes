
首先，很多问题不会以图形化的界面显示出来，所以遇到未知问题先看系统文件日志是一个好习惯：
```
journalctl -xe
```

系统日志过长，就放到文本文件中看：
```
journalctl -xe > log.txt
```

# 1. Chrome-sandbox
`chrome-sandbox` 是 Chromium 和基于 Chromium 的程序（例如 Google Chrome、Obsidian 等）用于实现 **沙盒安全机制** 的一个可执行文件。

沙盒是一种隔离技术，能够在不影响主机系统的情况下限制程序的操作范围，防止恶意代码或漏洞利用对系统造成破坏。`chrome-sandbox` 通过特定权限（如 `SUID`）实现对资源的安全隔离，例如用户权限的限制、内存管理的隔离等。

在许多现代 Linux 系统中，沙盒是保护系统安全的关键功能
`SUID`（Set User ID）是一种特殊的文件权限，允许用户在运行程序时临时以文件所有者的身份执行程序。例如：

- 当普通用户运行一个 `SUID` 文件，该文件的操作会以文件所有者的权限（如 `root`）执行，而不是用户本身的权限。

因此，沙盒需要一些必要的设置来实现控制程序的操作范围：
1. 文件所有权为 `root:root`
   原因是`SUID` 机制要求文件的所有者为 `root`，这样才能在运行时临时以文件所有者的身份执行程序，否则程序无法以 `root` 权限运行
   `sudo chown root:root /path/to/chrome-sandbox`

2. 权限为`4755`
   这涉及到linux的权限设置表示方法

## Linux权限表示：
linxu将权限划分为四个部分：
```
[特殊权限][所有者权限][组权限][其他用户权限]

```
权限以八进制数表示，每位数字代表不同角色的权限：

- `4` = 读 (r)
- `2` = 写 (w)
- `1` = 执行 (x)
- `0` = 无权限

对于某个部分需要有多种权限，简单地将相应的不同数字加起来就好（这就是为什么这些数字是4、2、1、0而不是0、1、2、3，后者的‘3’无法区分是”1+2“还是”0+3“）
同时，**只有共有4位是才会将最左侧的一个数字视作特殊权限位**，这个位置上可以填的数字有：

- `4` = **SetUID**：允许以文件所有者的权限运行程序。
- `2` = **SetGID**：允许以文件所属组的权限运行程序。
- `1` = **Sticky Bit**：对目录有效，限制删除权限。

规定了执行程序时的特殊模式

所以，`4755`的含义是：
`4755` 是一个带有 **SetUID** 的权限设置：
1. **`4`（SetUID）**：
    - 文件在被执行时，进程会以文件的 **所有者权限** 运行，而不是执行者本人的权限。
    - 例如：
        - 文件所有者是 `root`。
        - 普通用户运行该文件时，会以 `root` 权限执行。
2. **`7`（所有者权限）**：
    - 文件所有者拥有 `读(r) + 写(w) + 执行(x)` 权限。
3. **`5`（组权限和其他用户权限）**：
    - 文件所在组和其他用户拥有 `读(r) + 执行(x)` 权限。


# 2. 挂载点问题

有时候在磁盘上（特别是文件系统类型和Linux常用的不同的磁盘）的挂载点会在启动时消失，具体体现在：
- 在点击磁盘目录时，出现如下报错：
![[Pasted image 20250309130054.png]]

- 使用`umount`命令解除挂载点时显示没有挂载点：
```
normist@MIST:~/Desktop$ sudo umount /dev/nvme1n1p2 
umount: /dev/nvme1n1p2: not mounted.
```
或者使用`mount`显示所有文件目录时没有出现对应的目录

就说明没有挂载点

更进一步，如果使用`mount`命令在对应目录下设置挂载点，却显示：
```
normist@MIST:~/Desktop$ sudo mount /dev/nvme1n1p2 /media/normist/Data+ 
ntfs-3g-mount: failed to access mountpoint /media/normist/Data+: 
No such file or directory
```
没有对应目录，但是我们知道这个磁盘存在，目录应该存在

此时需要重新创建一遍目录：
```
sudo mkdir -p /media/normist/Data+
```

然后再设置挂载点即可：
```
sudo mount /dev/nvme1n1p2 /media/normist/Data+
```

## 2.1 真正治本方法

但是，在这样设置之后我们发现重启电脑后挂载点又掉了，每次启动都得挂载一遍，显然不应该这样，我们可以通过修改`/etc/fstab`文件，在文件末尾增加一行
```
UUID="相应挂载点的UUID"  /media/normist/Data+  ntfs  defaults  0  0
```
保存修改后的文件，并且使用
```
systemctl daemon-reload
```
来启用更改，即可保证挂载点在磁盘上了

其中，使用UUID，而不是使用设备的名字，如`/dev/nvme1n1p2`这样的名字，的原因是：Linux 系统使用的是设备节点名称 `/dev/nvmeXnXpY`，它们可能在不同的启动过程中因为硬件检测顺序不同而变化，因此直接使用设备名在启动过程中可能会因为发生更改而挂载失效

我们使用下面的命令检查所有设备的信息，包括UUID：
```
sudo blkid
```
然后找到相应设备的UUID并填入上面的`/etc/fstab`文件即可（`sudo vi /etc/fstab`）
